<!doctype html>
<html lang="zh">
<head>
	<meta charset="utf-8">
	<meta name="author" content="Vimest">
	<meta name="generator" content="GVIM 7.3">
	<meta name="keywords" content="">
	<meta name="description" content="">	
	<title>HTML - MonitorThis</title>
	<style>
		*{margin:0;padding:0;}
		body{padding:20px;background-color:#aaa;font:14px/1.5 \5fae\8f6f\96c5\9ed1,monaco;}
		img{vertical-align:top;}
		.wPost{list-style:none;background-color:#333;color:#f1f1f1;padding:20px 20px 10px;border-radius:10px;margin-bottom:20px;box-shadow:0 0 2px #000;
			background: -webkit-gradient(linear, 0 0, 0 bottom, from(#111111), to(#222222));
			background: -webkit-linear-gradient(#111111, #222222);
			background: -moz-linear-gradient(#111111, #222222);
			background: -ms-linear-gradient(#111111, #222222);
			background: -o-linear-gradient(#111111, #222222);
			background: linear-gradient(#111111, #222222);
			-pie-background: linear-gradient(#111111, #222222);
		}
		.wPost li{clear:both;overflow:hidden;margin-bottom:10px;line-height:24px;}
		.wPost a{color:#f1f1f1;}
		.wPost .userProfilePic{float:left;position:relative;margin-right:10px;border-radius:3px;}
		.wPost .wPostPic{border-radius:1px;margin-top:5px;cursor:pointer;}

		#post{
			color:#f1f1f1;border-radius:10px;box-shadow:0 0 2px #000;
			border:none;resize:none;
			background: -webkit-gradient(linear, 0 0, 0 bottom, from(#111111), to(#222222));
			background: -webkit-linear-gradient(#111111, #222222);
			background: -moz-linear-gradient(#111111, #222222);
			background: -ms-linear-gradient(#111111, #222222);
			background: -o-linear-gradient(#111111, #222222);
			background: linear-gradient(#111111, #222222);
			-pie-background: linear-gradient(#111111, #222222);
			display:block;margin-bottom:20px;overflow:hidden;padding:10px;text-align:right;}
		#postCnt{
			font-family:\5fae\8f6f\96c5\9ed1,monaco;font-size:24px;
			width:100%;height:200px;border:none;background-color:transparent;overflow:hidden;resize:none;color:#f1f1f1;}
		#post button{width:10%;height:50px;
			background: -webkit-gradient(linear, 0 0, 0 bottom, from(#eeeeee), to(#ffffff));
			background: -webkit-linear-gradient(#eeeeee, #ffffff);
			background: -moz-linear-gradient(#eeeeee, #ffffff);
			background: -ms-linear-gradient(#eeeeee, #ffffff);
			background: -o-linear-gradient(#eeeeee, #ffffff);
			background: linear-gradient(#eeeeee, #ffffff);
			-pie-background: linear-gradient(#eeeeee, #ffffff);
			border:none;border-radius:4px;
		}
	</style>
</head>
<body>
	<div id="post">
		<textarea id="postCnt"></textarea>
		<button type="button" id="update">Post</button>
	</div>
	<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=1592660272"></script>
	<script src="xyz.js"></script>
	<script>
		if(WB2.checkLogin() != true){
			WB2.login(function(){});
		}else{
			WB2.anyWhere(function(W){
				W.parseCMD("/statuses/friends_timeline.json", function(sResult,bStatus){
					for(var i=0;i<sResult.length;i++) {
						var ul = document.createElement('ul');
						var current = sResult[i];
						ul.className = 'wPost';
						ul.innerHTML += '<li><img class="userProfilePic" src="'+current.user.profile_image_url+'" />'+current.text+'</li>';
						if(current.thumbnail_pic){
							ul.innerHTML += '<li><img class="wPostPic" src="'+current.thumbnail_pic+'" /></li>';
						}
						ul.innerHTML += '<li>来自：'+current.source+'</li>';
						document.body.appendChild(ul);
					}
				},{method:'post'});
			});
		}
		xyz.id('update').onclick = function(){
			WB2.anyWhere(function(W){
				W.parseCMD("/statuses/update.json",function(){
					xyz.id('postCnt').value = '发送成功';
					location.reload();
				},{
					status:xyz.id('postCnt').value
				},{method:'post'});
			});
		};
	</script>
</body>
</html>
